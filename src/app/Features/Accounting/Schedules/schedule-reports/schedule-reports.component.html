
<div class="container-fluid d-flex justify-content-center align-items-center" >
    <div class="report-controls-popup" >
       <!-- <div  style="border-radius:20px !important"> -->
        <!-- class="scrollpopup" -->
        <div>
        <div class="header d-flex align-items-center" >
            <h5 class="title m-0 ms-2">
                <img src="" alt=""> <span class="slash">//</span>REPORT CONTROLS  
            </h5>
            <a  type="button" class="close-btn ms-auto me-2" (click)="close()"><i class="fa-solid fa-xmark"></i> </a>
        </div>
        <div class="body" >
            <div class="container-fluid" >
            <div class="col-12 data-grouping">
                <div class="row" style="flex-wrap:inherit">
                    <div class="col-4">
                        <h5>Date Range</h5>
                        <div class="col-12 " style="border-bottom: 1px solid #edf1f4;">
                            <form class="row form-inline mb-4">                         
                                <div class="col-12 form-group">
                                    <div class="input-group">
                                    <input #dpFromDate 
                                           class="form-control" placeholder="mm/dd/yyyy"
                                           (click)="datepicker.toggle()" 
                                           name="dpFromDate"
                                           [value]="formatter.format(fromDate)"
                                         
                                           (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
                                           <span style="padding:.5rem">to</span>
                                    <input #dpToDate 
                                    class="form-control" placeholder="mm/dd/yyyy"
                                    name="dpToDate"
                                  
                                    (click)="datepicker.toggle()" 
                                    [value]="formatter.format(toDate)"
                                    (input)="toDate = validateInput(toDate, dpToDate.value)">
                         
                                  </div>
                                  <div class="form-group hidden">
                                    <div class="input-group">
                                      <input name="datepicker" style="display: none;"
                                             class="form-control"
                                             ngbDatepicker
                                             #datepicker="ngbDatepicker"
                                             [autoClose]="'outside'"
                                             (dateSelect)="onDateSelection($event)"
                                             [maxDate]="maxDate"
                                             [displayMonths]="2"
                                             [dayTemplate]="t"
                                         
                                             outsideDays="hidden"
                                             [startDate]="fromDate!"
                                             tabindex="-1">
                                      <ng-template #t let-date let-focused="focused" >
                                        <span class="custom-day"
                                              [class.focused]="focused"
                                              [class.range]="isRange(date)"
                                              [class.faded]="isHovered(date) || isInside(date)"
                                              (mouseenter)="hoveredDate = date"
                                              (mouseleave)="hoveredDate = null">
                                          {{ date.day }}
                                        </span>
                                      </ng-template>
                                    </div>
                                  </div>
                                </div>
                             
                             
                              </form>
                      </div>
                      <div class="col-12">
                        <div class="mt-3 mb-3">                          
                            <button type="button" class="btn btn-primary grp-btn " (click)="multipleorsingle('Section','S')" [ngClass]="{'bg-color':Section.indexOf('S')>=0, 'bg-color-wt':Section.indexOf('S')<0}">Store(s) <span class="count" *ngIf="Section.indexOf('ST')>=0" > 12 </span></button>
                            <button type="button" class="btn btn-primary grp-btn " (click)="multipleorsingle('Section','ST')" [ngClass]="{'bg-color':Section.indexOf('ST')>=0, 'bg-color-wt':Section.indexOf('ST')<0}">Schedule Type(s)</button>
                        </div>
                    </div>
                       

                    </div>
                  <div class="str_scrl"  *ngIf="Section.indexOf('S')>=0">
                    <div class="col-3" >
                     <div class="row" style="flex-wrap:inherit"> 
                         <div  *ngFor="let rg of Regions;let i=index">  
                             <div style="border-bottom: 1px solid #edf1f4;">
                                <button type="button" class="btn btn-primary grp-btn mb-4" [ngClass]="{'bg-color':i==1  }" style="white-space:nowrap">{{rg.RG_Name}} &nbsp; Region</button>  
                             </div>                      
                            <div  class="mt-2 mb-4" style="max-height: 400px;overflow: auto;">
                            <div *ngFor="let st of stores;let j=index">
                            <button type="button" class="btn btn-primary grp-btn" [ngClass]="{'bg-color':i==1 ,  active:i==2 && j==4 }" style="white-space:nowrap">{{rg.RG_Name}} {{st.ST_Name}}</button>  
                            </div>                
                        </div>   
                        </div>  
                    </div>
                    </div>

                    </div>
                    <div   *ngIf="Section.indexOf('ST')>=0">
                        <div class="col-8" >
                         <div class="row" > 
                             <div class="col-lg-4"  *ngFor="let rg of scheduleType;let i=index">  
                                 <div >
                                    <button type="button" class="btn btn-primary grp-btn"  style="white-space:nowrap" [ngClass]="{'bg-color': rg.status=='Y', 'bg-color-wt':rg.status !='Y'}">{{rg.ST_Name}}</button>  
                                 </div>                      
                             
                            </div>  
                        </div>
                        </div>
    
                        </div>
                    </div>

                    
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="col-12 d-flex justify-content-center">
                <button type="button" class="btn btn-primary ms-1" (click)="close()">Save to Favorites</button> &nbsp;&nbsp;
                <button type="button" class="btn btn-save me-1" (click)="close()" >Save</button>
                <a  class="cancel-txt" (click)="close()">Cancel</a>
              
            </div>
        </div>
      <!-- </div> -->
      </div>
        </div>
        </div>
    
     