<div class="container-fluid d-flex justify-content-center align-items-center">
  <div class="gross-popup">
    <div class="header d-flex align-items-center">
      <h5 class="title m-0 ms-2">
        <img src="" alt=""> <span class="slash">//</span>{{Servicedetails[0].userName}}
      </h5>
      <!--  -->
      <a type="button" class="close-btn ms-auto me-2" (click)="close()"><i class="fa-solid fa-xmark"></i> </a>
    </div>

    <div class="loader" style="margin-top: 5%;margin-left: 30%;" *ngIf="spinnerLoader"></div>

    <div class="content" [ngStyle]="{'height': spinnerLoader == true ? '240px' : '' }">
      <div class="d-flex" style="width: 100%;">
        <div class="deal-tbl" (mouseenter)="updateCurrentElement('scrollOne')" (scroll)="updateVerticalScroll($event)"
          #scrollOne>
          <table class="table table-borderless">
            <thead>
              <tr>
                <th>RO #</th>
                <th>Date</th>
                <th>Customer</th>
                <th>Vehicle</th>
                <th>VIN</th>
              </tr>
            </thead>
            <tbody>
              <!--  -->
              <tr *ngFor="let det of ServicePersonDetails">
                <!-- <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td> -->
                <td>
                  {{ (det.ronumber == 0 || det.ronumber == null || det.ronumber == undefined ? '-' : det.ronumber ) }}
                </td>
                <td>
                  {{ (det.closedate == 0 || det.closedate == null || det.closedate == undefined ? '-' : det.closedate |
                  date:'MM.dd.yyyy' ) }}
                </td>
                <td title="{{det.CName}}" style="cursor: default;"> {{(det.CName == undefined ||
                  det.CName == null ? '--' : (
                  (det.CName.toString() | slice:0:13) +
                  (det.CName.toString().length > 13 ? '...' : '') ))}}</td>
                <td>
                  {{ ( det.vehicle == null || det.vehicle == undefined ? '-' : det.vehicle ) }}
                </td>
                <td>
                  {{ (det.vin == 0 || det.vin == null || det.vin == undefined ? '-' : det.vin ) }}
                </td>
              </tr>

            </tbody>
          </table>
        </div>

        <div class="gross-tbl-scroll" (mouseenter)="updateCurrentElement('scrollTwo')"
          (scroll)="updateVerticalScroll($event)" #scrollTwo>
          <table class="table table-borderless gross-tbl">
            <thead>
              <tr>
                <!-- <th>Front <br> Gross</th>
                  <th>Back <br> Gross</th>
                  <th>Total <br> Gross</th>
                  <th>Salesperson <br> 1</th>
                  <th>Salesperson <br> 2</th>
                  <th>F&I <br> Mgr.</th>
                  <th>Desk <br> Mgr.</th>
                  <th>Fin. <br> Reserve</th>
                  <th>Product <br> Count</th> -->
                <th colspan="5">Total
                  <!-- <br>
                    <div class="d-flex justify-content-between product">
                      <span style="min-width: 50px !important;">Gross</span>
                      <span style="min-width: 50px !important;">Retention</span>
                      <span style="min-width: 50px !important;">ELR</span>
                      <span style="min-width: 50px !important;">Hours</span>
                      <span style="min-width: 50px !important;">Discount</span>

                    </div> -->
                </th>

                <th colspan="5">Customer Pay
                  <!-- <br>
                    <div class="d-flex justify-content-between product">
                        <span>Gross</span>
                      <span>Retention</span>
                      <span>ELR</span>
                      <span>Hours</span>
                      <span>Discount</span>
                    </div> -->
                </th>

                <th colspan="5">Warranty
                  <!-- <br>
                    <div class="d-flex justify-content-between product">
                        <span>Gross</span>
                      <span>Retention</span>
                      <span>ELR</span>
                      <span>Hours</span>
                      <span>Discount</span>
                    </div> -->
                </th>

                <th colspan="5">Internal
                  <!-- <br>
                    <div class="d-flex justify-content-between product">
                        <span>Gross</span>
                      <span>Retention</span>
                      <span>ELR</span>
                      <span>Hours</span>
                      <span>Discount</span>
                    </div> -->
                </th>

                <th colspan="5" style="display: none;">Service Contract
                  <!-- <br>
                    <div class="d-flex justify-content-between product">
                        <span>Gross</span>
                      <span>Retention</span>
                      <span>ELR</span>
                      <span>Hours</span>
                      <span>Discount</span>
                    </div> -->
                </th>
              </tr>
              <tr>
                <td>Gross</td>
                <td>GP%</td>
                <td>ELR</td>
                <td>Hours</td>
                <td>Discount</td>

                <td>Gross</td>
                <td>GP%</td>
                <td>ELR</td>
                <td>Hours</td>
                <td>Discount</td>

                <td>Gross</td>
                <td>GP%</td>
                <td>ELR</td>
                <td>Hours</td>
                <td>Discount</td>

                <td>Gross</td>
                <td>GP%</td>
                <td>ELR</td>
                <td>Hours</td>
                <td>Discount</td>

                <!-- <td>Gross</td>
                <td>Retention</td>
                <td>ELR</td>
                <td>Hours</td>
                <td>Discount</td> -->



              </tr>
            </thead>

            <tbody>
              <!--  -->
              <tr *ngFor="let det of ServicePersonDetails">
                <!-- <td>
                    {{ (det.frontgross == 0 || det.frontgross == null || det.frontgross == undefined ? '-' :
                    det.frontgross | currency:'USD':'symbol':'1.0-0' ) }}
                  </td>
                  <td>
                    {{ (det.backgross == 0 || det.backgross == null || det.backgross == undefined ? '-' : det.backgross |
                    currency:'USD':'symbol':'1.0-0' ) }}
                  </td>
                  <td>
                    {{ (det.totalgross == 0 || det.totalgross == null || det.totalgross == undefined ? '-' :
                    det.totalgross | currency:'USD':'symbol':'1.0-0' ) }}
                  </td>
                  <td title="{{det.salesperson1}}" style="cursor: default;white-space: nowrap;"> {{(det.salesperson1 == null || det.salesperson1 == undefined ? '' : (
                    (det.salesperson1.toString() | slice:0:1) +
                    (det.salesperson1.toString().length > 1 ? '.' : '') ))}}
                    {{(det.salesperson1 == null || det.salesperson1 == undefined ? '' : det.salesperson1.toString() | slice: det.salesperson1.indexOf(',')+1 )}}
                  </td>
                  <td title="{{det.salesperson2}}" style="cursor: default;white-space: nowrap;">  {{(det.salesperson2 == null || det.salesperson2 == undefined ? '' : (
                    (det.salesperson2.toString() | slice:0:1) +
                    (det.salesperson2.toString().length > 1 ? '.' : '') ))}}
                    {{(det.salesperson2 == null || det.salesperson2 == undefined ? '' : det.salesperson2.toString() | slice: det.salesperson2.toString().indexOf(',')+1 )}}</td>
                  <td title="{{det.fimanager}}" style="cursor: default;white-space: nowrap;">  {{(det.fimanager == null || det.fimanager == undefined ? '' : (
                    (det.fimanager.toString() | slice:0:1) +
                    (det.fimanager.toString().length > 1 ? '.' : '') ))}}
                    {{(det.fimanager == null || det.fimanager == undefined ? '' : det.fimanager.toString() | slice: det.fimanager.indexOf(',')+1 )}}</td>
                  <td title="{{det.salesmanager}}" style="cursor: default;white-space: nowrap;">{{(det.salesmanager == null || det.salesmanager == undefined ? '' : (
                    (det.salesmanager.toString() | slice:0:1) +
                    (det.salesmanager.toString().length > 1 ? '.' : '') ))}}
                    {{(det.salesmanager == null || det.salesmanager == undefined ? '' : det.salesmanager.toString() | slice: det.salesmanager.indexOf(',')+1 )}}</td>
                  <td>-</td>
                  <td>
                    {{ (det.productcount == 0 || det.productcount == null || det.productcount == undefined ? '-' :
                    det.productcount | number : '1.1-1' ) }}
                  </td>
                  <td>
                    {{ (det.TotalELR == 0 || det.TotalELR == null || det.TotalELR == undefined
                    ? '-' : det.TotalELR | currency:'USD':'symbol':'1.0-0' ) }}
                  </td>
                  <td>
                    {{ (det.Retention == 0 || det.Retention == null || det.Retention == undefined
                    ? '-' : det.Retention | currency:'USD':'symbol':'1.0-0' ) }}

                  </td> -->
                <td style="min-width: 50px !important;"> {{ (det.Totalgross == 0 || det.Totalgross == null ||
                  det.Totalgross == undefined ? '-' :
                  det.Totalgross | currency:'USD':'symbol':'1.0-0' )}}</td>
                <td style="min-width: 50px !important;white-space: nowrap !important; text-align: right !important;"> {{
                  (det.Retention == 0 ||
                  det.Retention == null ||
                  det.Retention == undefined || det.Retention == ''
                  ? '-' : det.Retention | number:'1.1-1')}} {{ (det.Retention == 0 || det.Retention == null ||
                  det.Retention == undefined || det.Retention == ''
                  ? '' :'%')}} </td>
                <td style="min-width: 50px !important;"> {{ (det.TotalELR == 0 || det.TotalELR == null || det.TotalELR
                  == undefined
                  ? '-' : det.TotalELR | currency:'USD':'symbol':'1.0-0' ) }}</td>
                <td style="min-width: 50px !important;"> {{ (det.Totalhours == 0 || det.Totalhours == null ||
                  det.Totalhours == undefined ? '-' :
                  det.Totalhours | number : '1.1-1' ) }}</td>
                <td style="min-width: 50px !important;"> {{ (det.Discount == 0 || det.Discount == null ||
                  det.Discount == undefined
                  ? '-' : det.Discount | currency:'USD':'symbol':'1.0-0' ) }}</td>
                <td style="min-width: 50px !important;"> {{ (det.CustomerPayGross == 0 || det.CustomerPayGross == null
                  || det.CustomerPayGross == undefined ? '-' : det.CustomerPayGross |
                  currency:'USD':'symbol':'1.0-0' ) }}</td>

                <td style="min-width: 50px !important;white-space: nowrap !important; text-align: right !important;"> {{
                  (det.Retention == 0 ||
                  det.CustomerRetention == null ||
                  det.CustomerRetention == undefined || det.CustomerRetention == ''
                  ? '-' : det.CustomerRetention | number:'1.1-1')}} {{ (det.CustomerRetention == 0 ||
                  det.CustomerRetention == null ||
                  det.CustomerRetention == undefined || det.CustomerRetention == ''
                  ? '' :'%')}} </td>

                <td> {{ (det.CustomerPayELR == 0 || det.CustomerPayELR == null || det.CustomerPayELR == undefined ? '-'
                  : det.CustomerPayELR |
                  currency:'USD':'symbol':'1.0-0' ) }}</td>
                <td> {{ (det.CustomerPayhours == 0 || det.CustomerPayhours == null || det.CustomerPayhours == undefined
                  ? '-' : det.CustomerPayhours) }}</td>
                <td> {{ (det.DiscountCP == 0 || det.DiscountCP == null || det.DiscountCP ==
                  undefined ? '-' : det.DiscountCP |
                  currency:'USD':'symbol':'1.0-0' ) }}</td>

                <td>
                  {{ (det.WarrantyGross == 0 || det.WarrantyGross == null || det.WarrantyGross == undefined ? '-' :
                  det.WarrantyGross |
                  currency:'USD':'symbol':'1.0-0' ) }}
                </td>

                <td style="min-width: 50px !important;white-space: nowrap !important; text-align: right !important;"> {{
                  (det.Retention == 0 ||
                  det.WarrantyRetention == null ||
                  det.WarrantyRetention == undefined || det.WarrantyRetention == ''
                  ? '-' : det.WarrantyRetention | number:'1.1-1')}} {{ (det.WarrantyRetention == 0 ||
                  det.WarrantyRetention == null ||
                  det.WarrantyRetention == undefined || det.WarrantyRetention == ''
                  ? '' :'%')}} </td>

                <td>
                  {{ (det.WarrantyELR == 0 || det.WarrantyELR == null || det.WarrantyELR == undefined ? '-' :
                  det.WarrantyELR |
                  currency:'USD':'symbol':'1.0-0') }}
                </td>
                <td>
                  {{ (det.Warrantyhours == 0 || det.Warrantyhours == null || det.Warrantyhours == undefined ? '-' :
                  det.Warrantyhours ) }}
                </td>
                <td>
                  {{ (det.DiscountWP == 0 || det.DiscountWP == null || det.DiscountWP == undefined ?
                  '-' : det.DiscountWP |
                  currency:'USD':'symbol':'1.0-0' ) }}
                </td>

                <td>
                  {{ (det.InternalGross == 0 || det.InternalGross == null || det.InternalGross == undefined ? '-' :
                  det.InternalGross |
                  currency:'USD':'symbol':'1.0-0' ) }}
                </td>
                <td style="min-width: 50px !important;white-space: nowrap !important; text-align: right !important;"> {{
                  (det.Retention == 0 ||
                  det.InternalRetention == null ||
                  det.InternalRetention == undefined || det.InternalRetention == ''
                  ? '-' : det.InternalRetention | number:'1.1-1')}} {{ (det.InternalRetention == 0 ||
                  det.InternalRetention == null ||
                  det.InternalRetention == undefined || det.InternalRetention == ''
                  ? '' :'%')}} </td>
                <td>
                  {{ (det.InternalELR == 0 || det.InternalELR == null || det.InternalELR == undefined ? '-' :
                  det.InternalELR |
                  currency:'USD':'symbol':'1.0-0' ) }}
                </td>
                <td>
                  {{ (det.Internalhours == 0 || det.Internalhours == null || det.Internalhours == undefined ? '-' :
                  det.Internalhours ) }}
                </td>
                <td>
                  {{ (det.DiscountIP == 0 || det.DiscountIP == null || det.DiscountIP == undefined ?
                  '-' : det.DiscountIP |
                  currency:'USD':'symbol':'1.0-0' ) }}
                </td>
                <!-- <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td> -->
                <div class="loader" style="margin-top: 30%;margin-left: 30%;" *ngIf="spinnerLoadersec"></div>

              </tr>
              <tr *ngIf="NoData">
                <td colspan="7">No Data Found!!!</td>
                <td colspan="8"></td>

              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>